---
layout: page
width: expand
---

<div class="container">
    <div class="row">
        <div class="col-2"></div>
        <div class="col">

            <h1>APIs.json Overlay</h1>  
            <p>Need Text</p>
            <h2>API Key</h2>
            <p>This narrative uses the APIs.io API to enable the functionality described on this page, so you will need an API key to utilize any of the actions provided in this narrative.</p>
            <form>
                <div class="mb-3">
                <input type="email" class="form-control" id="apiKey" aria-describedby="apiKey" value="wBFdWN3iL12Ro1CB7jPBk7UPPxw98TYa7JBl0ALu">
                </div>
            </form>

            <h2>All APIs.json</h2>
            <p>These are all of the APIs.json available in the APIs.io index, sorted alphabetically by name. This gives us the opportunity to standardize the name, slug, description, and image for each index. Right now all we really care about is the slug, since we aren't actually publishing the APIs.json indexes anywhere, but eventually we will.</p>
            <table id="all-apisjson"></table>
            <script>
                function listAPIsJSON(){

                    //document.getElementById("pull-apis-properties-message").innerHTML = "Pulling..."

                    const options = {
                        method: 'GET',
                        headers: {
                            "Accept": "application/json",
                            "X-API-KEY": document.getElementById("apiKey").value
                        }
                    };  

                    fetch('https://8wmp1s1pni.execute-api.us-east-1.amazonaws.com/staging/engine/apisjson/overlay',options)
                        .then(function(response) {
                            if (!response.ok) {
                                console.log('Error with Status Code: ' + response.status);                                
                            }
                            response.json().then(function(data) {   

                                console.log(data);

                                let html = '<hr>';
                                for (let i = 0; i < data.length; i++) {

                                    html += '<div class="mb-3">';
                                    html += '<label for="name" class="form-label">Name</label>';
                                    html += '<input style="" type="name" class="form-control" id="name-' + i + '" value="' + data[i].name + '">';
                                    html += '<input style="border-color:#50C878;" type="name" class="form-control" id="name-' + i + '" value="">';
                                    html += '</div>';

                                    html += '<div class="mb-3">';
                                    html += '<label for="name" class="form-label">Slug</label>';
                                    html += '<input style="" type="name" class="form-control" id="slug-' + i + '" value="' + data[i].slug + '">';
                                    html += '<input style="border-color:#50C878;" type="name" class="form-control" id="slug-' + i + '" value="">';
                                    html += '</div>';
                                    
                                    html += '<div class="mb-3">';
                                    html += '<label for="name" class="form-label">Description</label>';
                                    html += '<textarea class="form-control" id="description-' + i + '" style="height: 175px;">' + data[i].description + '</textarea>';
                                    html += '<textarea class="form-control" id="description-' + i + '" style="height: 175px; border-color:#50C878;"></textarea>';
                                    html += '</div>';  
                                    
                                    html += '<div class="mb-3">';
                                    html += '<label for="name" class="form-label">Image</label>';
                                    html += '<input style="" type="name" class="form-control" id="image-' + i + '" value="' + data[i].image + '">';
                                    html += '<input style="border-color:#50C878;" type="name" class="form-control" id="image-' + i + '" value="">';
                                    html += '</div>';   
                                    
                                    html += '<button type="button" class="btn btn-primary">Primary</button>';

                                    html += '<br><br><hr><br>';
                                }   
                                document.getElementById("all-apisjson").innerHTML = html;                       

                            });
                            })
                            .catch(function(err) {
                                console.log('Error: ' + err);
                        });

                    }

                    listAPIsJSON();
            </script>              

        </div>
        <div class="col-2"></div>
    </div>
</div>